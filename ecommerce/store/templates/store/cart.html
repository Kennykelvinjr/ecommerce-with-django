{% extends 'base.html' %}
{% load static %}

{% block content %}
    <h1>Shopping Cart</h1>
    {% if items %}
        {% for item in items %}
        <div class="cart-item">
            <div class="item-info">
                <h4>{{ item.product.name }}</h4>
                <p>Price: TZS {{ item.product.price }}</p>
                <p>Subtotal: TZS {{ item.get_total }}</p>
            </div>
            <div class="item-actions">
                <a href="{% url 'update_cart_item' item.product.id 'decrease' %}" class="btn btn-sm">-</a>
                <span class="quantity">{{ item.quantity }}</span>
                <a href="{% url 'update_cart_item' item.product.id 'increase' %}" class="btn btn-sm">+</a>
                <a href="{% url 'remove_cart_item' item.product.id %}" class="btn btn-remove">Remove</a>
            </div>
        </div>
        {% endfor %}
        <div class="cart-total">
            <h4>Total: TZS {{ order.get_cart_total }}</h4>
        </div>
        <a href="{% url 'store' %}" class="btn">Continue Shopping</a>
        <a href="{% url 'checkout' %}" class="btn">Checkout</a>
    {% else %}
        <p>Your cart is empty!</p>
        <a href="{% url 'store' %}" class="btn">Start Shopping</a>
    {% endif %}
{% endblock content %}